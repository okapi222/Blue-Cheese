# MDS Tab Navigation Spacing and Indicator Rules

## Critical Rules

### 1. Tab Indicator - Active Tabs Only

**The tab indicator (underline) must ONLY appear under the active/selected tab.**

Never apply a border-bottom to the entire tab navigation container. Only individual active tabs should show the indicator.

#### ✅ GOOD - Indicator Only on Active Tab

```css
.ui-TabNav {
  display: flex;
  gap: var(--mds-tabs-gap);
  margin-bottom: 2rem; /* Spacing after tab bar */
  /* NO border-bottom on the container */
}

.ui-TabNav__tab {
  background: var(--mds-tabs-background-default);
  border: none;
  border-bottom: var(--mds-tabs-indicator-height) solid transparent;
  /* Other styles... */
}

.ui-TabNav__tab--active {
  border-bottom-color: var(--mds-tabs-indicator-color); /* Indicator only here */
}
```

#### ❌ BAD - Border on Entire Container

```css
.ui-TabNav {
  display: flex;
  border-bottom: 2px solid blue; /* Wrong - creates line under all tabs */
}
```

### 2. Tab Navigation Bottom Spacing

**Tab navigation must have adequate spacing below it before content begins.**

- **Minimum**: `1.5rem` (24px)
- **Recommended**: `2rem` (32px)

This spacing separates the tab bar from the content that follows.

#### ✅ GOOD - Adequate Spacing

```css
.ui-TabNav {
  margin-bottom: 2rem; /* Spacing after tab bar */
}

/* OR on the content */
.tab-content {
  margin-top: 1.5rem; /* Spacing before content */
}
```

#### ❌ BAD - No Spacing

```css
.ui-TabNav {
  /* No margin-bottom */
}

.tab-content {
  /* No margin-top */
}
/* Results in content flush against tabs */
```

### 3. Section Headers Below Tabs

**Section headers within tab content need proper spacing.**

When section headers contain buttons (like "Continue to..." or action buttons):

- **Section header to content below**: `1.5rem` minimum
- **Buttons within header**: `1rem` gap between buttons

#### ✅ GOOD - Proper Section Header Spacing

```css
.tab-content {
  margin-top: 1.5rem; /* Space from tabs */
}

.section-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1.5rem; /* Space before content */
}

.header-actions {
  display: flex;
  gap: 1rem; /* Space between buttons */
}
```

#### ❌ BAD - Insufficient Spacing

```css
.section-header {
  margin-bottom: 0.5rem; /* Too tight */
}

.header-actions {
  display: flex;
  gap: 0.25rem; /* Buttons too close */
}
```

## Complete Example

### Tab Navigation with Content

```tsx
<div className="page">
  {/* Tab Navigation */}
  <TabNav items={tabs} activeTab={activeTab} onTabChange={setActiveTab} />
  
  {/* Tab Content - properly spaced */}
  <div className="tab-content">
    <div className="section-header">
      <div>
        <h2 className="section-title">Section Title</h2>
        <p className="section-description">Description text</p>
      </div>
      <div className="header-actions">
        <Button variant="tertiary">Cancel</Button>
        <Button variant="primary">Continue</Button>
      </div>
    </div>
    
    {/* Content here */}
  </div>
</div>
```

```css
/* Tab Navigation */
.ui-TabNav {
  display: flex;
  gap: var(--mds-tabs-gap);
  margin-bottom: 2rem; /* Spacing after tabs */
}

.ui-TabNav__tab {
  border-bottom: var(--mds-tabs-indicator-height) solid transparent;
}

.ui-TabNav__tab--active {
  border-bottom-color: var(--mds-tabs-indicator-color); /* Only active shows indicator */
}

/* Tab Content */
.tab-content {
  margin-top: 1.5rem; /* Additional spacing if needed */
}

/* Section Headers in Tab Content */
.section-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1.5rem; /* Space before content */
}

.header-actions {
  display: flex;
  gap: 1rem; /* Space between buttons */
}
```

## Why These Rules Matter

1. **Visual Clarity**: Active tab indicator clearly shows which tab is selected without visual noise
2. **Breathing Room**: Proper spacing prevents UI elements from feeling cramped
3. **Touch Targets**: Adequate spacing improves clickability and touch interaction
4. **Hierarchy**: Clear spacing establishes visual hierarchy between navigation and content
5. **Consistency**: Standardized spacing creates a professional, cohesive experience

## Common Violations

### ❌ Full-width tab bar border
```css
.tab-nav {
  border-bottom: 2px solid var(--color-border);
}
```
**Problem**: Creates a line under all tabs, not just the active one.

### ❌ No spacing between tabs and content
```html
<TabNav />
<div className="content"> <!-- Flush against tabs -->
```
**Problem**: Content appears cramped against the tab bar.

### ❌ Buttons flush in section header
```css
.header-actions {
  display: flex;
  /* No gap defined */
}
```
**Problem**: Buttons appear as a single merged element.

## Spacing Quick Reference

| Element | Minimum Spacing | Recommended |
|---------|----------------|-------------|
| Tab nav bottom margin | 1.5rem (24px) | 2rem (32px) |
| Tab content top margin | 1.5rem (24px) | 1.5rem (24px) |
| Section header bottom margin | 1.5rem (24px) | 1.5rem (24px) |
| Buttons in header (gap) | 0.75rem (12px) | 1rem (16px) |
| Tab indicator | Only on active tab | N/A |

## Related Rules

- See `.cursor/rules/mds-button-spacing.mdc` for button spacing requirements
- See `.cursor/rules/mds-tabs-usage.mdc` for tab token usage
- See `AGENTS.md` for general MDS usage guidelines
